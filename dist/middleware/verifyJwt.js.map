{"version":3,"sources":["../../middleware/verifyJwt.js"],"names":["verifyToken","req","res","next","headers","authorization","status","send","message","startsWith","jwt","verify","split","process","env","SECRET_TOKEN","err"],"mappings":";;;;;;AAAA;;;;;;AAEA,MAAMA,WAAW,GAAG,CAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoB;AACpC,MAAI,CAACF,GAAG,CAACG,OAAJ,CAAYC,aAAjB,EAAgC,OAAOH,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,IAAAA,OAAO,EAAE;AAAX,GAArB,CAAP;;AAChC,MAAIP,GAAG,CAACG,OAAJ,CAAYC,aAAZ,IAA6BJ,GAAG,CAACG,OAAJ,CAAYC,aAAZ,CAA0BI,UAA1B,CAAqC,SAArC,CAAjC,EAAkF;AAC9EC,2BAAIC,MAAJ,CAAWV,GAAG,CAACG,OAAJ,CAAYC,aAAZ,CAA0BO,KAA1B,CAAgC,GAAhC,EAAqC,CAArC,CAAX,EAAoDC,OAAO,CAACC,GAAR,CAAYC,YAAhE,EAA8E,UAAUC,GAAV,EAAeN,GAAf,EAAoB;AAC9F,UAAIM,GAAJ,EAAS,OAAOd,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,QAAAA,OAAO,EAAEQ,GAAG,CAACR;AAAf,OAArB,CAAP;AACTL,MAAAA,IAAI;AACP,KAHD;AAIH;AACJ,CARD;;kBAUeH,W","sourcesContent":["import jwt from 'jsonwebtoken'\r\n\r\nconst verifyToken = (req, res, next) => {\r\n    if (!req.headers.authorization) return res.status(401).send({ message: 'Token não encontrado, por favor faça login !' })\r\n    if (req.headers.authorization && req.headers.authorization.startsWith('Bearer ')) {\r\n        jwt.verify(req.headers.authorization.split(\" \")[1], process.env.SECRET_TOKEN, function (err, jwt) {\r\n            if (err) return res.status(401).send({ message: err.message })\r\n            next()\r\n        })\r\n    }\r\n}\r\n\r\nexport default verifyToken"],"file":"verifyJwt.js"}